# RDBMS의 기본

<img width="720" alt="스크린샷 2025-05-25 오후 11 06 25" src="https://github.com/user-attachments/assets/62796cba-3cb4-4c91-a7fb-b2997cb3d702" />

사진 출처 : https://it-ist.tistory.com/m/357

테이블의 구성
- 테이블은 데이터를 저장하는 기본 단위입니다.
- 필드(Field) : 테이블의 열(Column), 각 데이터 항목의 속성을 의미합니다.
- 레코드(Record) : 테이블의 행(Row), 각 데이터의 한 줄을 의미합니다.
- 키 : 레코드를 식별할 수 있는 하나 이상의 필드를 의미합니다.

<br>

## 필드 타입(Field Type)
필드 타입은 각 필드(컬럼)에 저장되는 데이터의 종류와 형식을 정의합니다.

<img width="839" alt="스크린샷 2025-05-25 오후 11 04 06" src="https://github.com/user-attachments/assets/9e3d13b2-ba69-4c48-8b24-1493e205de4d" />

사진 출처 : https://gyrfalcon.tistory.com/entry/mySQL-Data-Type

| 구분       | 설명                                   | 예시 (MySQL 기준)                               |
|------------|------------------------------------------|------------------------------------------------|
| 숫자형     | 정수 또는 실수를 저장                   | `INT`, `BIGINT`, `FLOAT`, `DOUBLE`, `DECIMAL`  |
| 문자형     | 문자열 데이터를 저장                    | `CHAR`, `VARCHAR`, `TEXT`                       |
| 날짜/시간  | 날짜와 시간 데이터를 저장               | `DATE`, `DATETIME`, `TIMESTAMP`, `TIME`        |
| 논리형     | 참/거짓(Boolean) 데이터를 저장           | `BOOLEAN` (MySQL에서는 `TINYINT(1)`)           |
| 이진형     | 바이너리 데이터를 저장                   | `BLOB`, `TINYBLOB`, `LONGBLOB`                  |
| 기타       | JSON, ENUM, UUID 등 특수한 데이터 저장   | `ENUM`, `SET`, `JSON`, `UUID` (PostgreSQL)      |

<br>

## 키(Key)
키는 테이블 내에서 레코드를 **고유하게 식별**하거나 **관계 설정**을 위해 사용됩니다.

| 키 종류                 | 설명                                              |
|----------------------|-------------------------------------------------|
| **후보키(Candidate Key)** | 레코드를 유일하게 식별할 수 있는 최소 컬럼의 집합, 기본키 후보 , **유일성, 최소성.**|
| 복합키(Composite Key)  | 2개 이상의 컬럼으로 구성된 키                          |
| 슈퍼키(Super Key)     | 레코드를 유일하게 식별할 수 있는 모든 키 조합         |
| **기본키(Primary Key)**    | 레코드를 고유하게 식별하는 키, 중복과 NULL 불가       |
| 대체키(Alternate Key)  | 기본키 후보 중 선택되지 않은 키                       |
| **외래키(Foreign Key)**    | 다른 테이블의 기본키를 참조하여 관계를 정의           |

<br>

## 테이블 관계
| 관계 종류      | 설명                                                            | 예시                                      |
|----------------|-----------------------------------------------------------------|-------------------------------------------|
| 1:1 (일대일) | 한 테이블의 한 레코드가 다른 테이블의 한 레코드와만 연결               | 회원 - 회원상세정보<br>회원 1명 = 상세정보 1개 |
| 1:N (일대다) | 한 테이블의 한 레코드가 다른 테이블의 여러 레코드와 연결               | 회원 - 주문<br>회원 1명 = 여러 주문 |
| N:M (다대다) | 한 테이블의 여러 레코드가 다른 테이블의 여러 레코드와 연결<br>→ 중간 테이블 필요 | 학생 - 강의<br>한 학생 = 여러 강의, 한 강의 = 여러 학생 <br>→ 수강 테이블 필요 (`학생ID`, `강의ID`) |

<br>

## 무결성 제약 조건
: 데이터베이스에 저장된데이터의 일관성과 유효성을 유지하기 위해 마땅히 지켜야 하는 조건입니다.

### (1) 도메인 제약 조건 
: 테이블이 가질 수 있는 필드 타입과 범위에 대한 규칙입니다. <br>
각각 필드 데이터는 원자 값(더 이상 쪼갤 수 없는 단일한 값)을 가져야 하고, 지정된 필드 타입을 준수해야 하며, 값의 범위나 기본값이 지정되었을 경우 그를 따라야 합니다. <br>
또한, NULL이 허용되지 않았다면 NULL이 저장되어서는 안 됩니다.

이러한 조건이 명시된 테이블에서 제약 조건을 위배하는 데이터가 삽입/수정될 경우 '도메인 제약 조건 위배'된 것으로 간주합니다.\

### (2) 키 제약 조건 
: 레코드를 고유하게 식별할 수 있는 키로 지정된 필드에 중복된 값이 존재해서는 안 된다는 제약 조건입니다.

### (3) 엔티티 무결성 제약 조건 (= 기본 키 제약 조건)
: 기본키로 지정한 필드가 고유한 값이어야 하며, NULL이 되어서는 안 된다는 규칙입니다. <br>

### (4) 참조 무결성 제약 조건 (= 외래 키 제약 조건)
: 외래 키를 통해 다른 테이블을 참조할 때 데이터의 일관성을 지키기 위한 제약 조건으로,  <br>
외래 키는 참조하는 테이블의 기본 키와 같은 값을 갖거나 NULL값을 가져야 한다는 규칙입니다.

참조하는 테이블이 삭제/수정되는 경우
- 연산 제한(restrict) : 주어진 수정 및 삭제 연산 자체를 거부합니다.
- 기본값 설정 (set default) : 참조하는 레코드를 미리 지정한 기본값으로 설정합니다.
- NULL 값 설정 (set null) : 참조하는 레코드를 NULL로 설정합니다.
- 연쇄 변경 (cascade) : 참조하는 레코드도 함께 수정되거나 삭제합니다.
